# tatar-detox


Проект по автоматической детоксификации текстов на татарском языке с сохранением исходного смысла.

Проект был начат в рамках хакатона, но впоследствии вышел за его рамки и развивается как самостоятельная исследовательская работа.

---

## О проекте

**Задача**  
Переписать токсичный текст на татарском языке, удалив оскорбительную лексику и грубые выражения, при этом сохранив основной смысл сообщения.

**Вход**  
Токсичные предложения на татарском языке (`tt`)

**Выход**  
Детоксифицированная версия текста на татарском языке

Проект ориентирован только на **явную (эксплицитную) токсичность** — обсценную и грубую лексику.

Не рассматриваются:
- сарказм
- пассивная агрессия
- ненависть к группам людей без нейтрального содержания

---

## Контекст: хакатон

В рамках хакатона предлагалось разработать систему детоксификации для татарского языка в условиях ограниченного количества данных.

### Примеры

| Токсичный текст | Детоксифицированный текст |
|---------------|---------------------------|
| Син нинди тинтәк кеше! | Син ялгышасың! |
| Утырасың да күңел ачасың, ахмак!!!!! сүзләр юк! | Утырасың да күңел ачасың!!!!! сүзләр юк! |
| Андый хайваннарны кабер генә төзәтә! | Андый кешеләрне бернәрсә дә төзәтми! |

---

## Данные

На текущий момент датасет состоит из двух источников:

1. **Расширенный датасет с хакатона** — ~13 000 пар  
2. **Переведённые токс–детокс пары с русского языка** — ~12 000 пар  

**Общий размер датасета:** ~25 000 пар (токс → детокс)

---

## Расширение датасета

### Переводные данные

- Использован токс–детокс датасет на русском языке
- Дообучена модель `facebook/nllb-200-distilled-600M` на ~5k строк (RU → TT)
- Переведено ~12k токс–детокс пар с русского на татарский

---

### Неудачные попытки генерации через LLM

Prompt-based генерация (Qwen, Mistral, DeepSeek) показала низкое качество из-за:
- русско-татарского суржика в исходных данных
- обсценной лексики
- разговорного стиля

Модели часто переходили полностью на русский язык.

---

### Многошаговая генерация (TT → RU → TT)

Использовалась схема:
1. перевод татарского токсичного текста на русский
2. генерация русских токс–детокс пар
3. перевод обратно на татарский

Подход оказался нестабильным из-за суржика и ненормативной лексики.

---

### Rule-based расширение

В итоге был выбран rule-based подход:
- лексические замены токсичных слов
- простые грамматические трансформации
- инверсии, характерные для татарского языка

В среднем получалось около 4 новых вариантов на один исходный пример. Дубликаты и слишком похожие примеры отфильтровывались.

---

## Основные проблемы

### Данные

Наиболее узкое место проекта — данные. Актуальны:
- любые датасеты с татарским языком
- токсичные тексты на татарском
- токс–детокс пары на других языках (в первую очередь русском)

---

## Статус проекта

- сбор и расширение датасета завершены
- обучение моделей детоксификации в процессе
